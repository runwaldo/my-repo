<joblist>
  <job>
    <context>
      <options preserveOrder='true'>
        <option name='token' required='true' value='OnRWa5rkYSxGCxL8it0TdC6vJQdiKbKA'>
          <description>Enter your RBA token here</description>
          <label>Token</label>
        </option>
        <option name='base_url' required='true' value='http://localhost:4440'>
          <description>Enter your RBA URL here</description>
          <label>Base URL</label>
        </option>
        <option name='project' required='true'>
          <description>Project name</description>
          <label>Project</label>
        </option>
        <option name='integration' required='true'>
          <description>SCM Integration (import/export)</description>
          <label>Integration</label>
        </option>
      </options>
    </context>
    <defaultTab>nodes</defaultTab>
    <description>List SCM plugins for a project</description>
    <executionEnabled>true</executionEnabled>
    <group>SCM</group>
    <id>2d0a12ff-fe6f-4d9f-834e-c1e608ce5df3</id>
    <loglevel>INFO</loglevel>
    <name>List SCM Plugins</name>
    <nodeFilterEditable>false</nodeFilterEditable>
    <plugins />
    <scheduleEnabled>true</scheduleEnabled>
    <schedules />
    <sequence keepgoing='false' strategy='node-first'>
      <command>
        <plugins>
          <LogFilter type='json-mapper'>
            <config>
              <extraQuotes>false</extraQuotes>
              <filter>.</filter>
              <logData>true</logData>
              <prefix>result</prefix>
            </config>
          </LogFilter>
          <LogFilter type='quiet-output'>
            <config>
              <loglevel>verbose</loglevel>
              <matchLoglevel>normal</matchLoglevel>
              <quietMatch>true</quietMatch>
              <regex>.*</regex>
            </config>
          </LogFilter>
        </plugins>
        <step-plugin type='edu.ohio.ais.rundeck.HttpWorkflowStepPlugin'>
          <configuration>
            <entry key='authentication' value='None' />
            <entry key='headers' value='X-Rundeck-Auth-Token: ${option.token}&#10;Accept: application/json&#10;Content-Type: application/json' />
            <entry key='method' value='GET' />
            <entry key='printResponse' value='true' />
            <entry key='printResponseCode' value='false' />
            <entry key='printResponseToFile' value='false' />
            <entry key='proxySettings' value='false' />
            <entry key='remoteUrl' value='${option.base_url}/api/52/project/${option.project}/scm/${option.integration}/plugins' />
            <entry key='sslVerify' value='false' />
            <entry key='timeout' value='30000' />
          </configuration>
        </step-plugin>
      </command>
    </sequence>
    <uuid>2d0a12ff-fe6f-4d9f-834e-c1e608ce5df3</uuid>
  </job>
</joblist>
